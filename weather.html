<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>æ™ºæ…§å¤©æ°£é¡¯ç¤ºå™¨</title>

<!-- ç°¡å–®æ‰‹æ©Ÿå‹å–„æ’ç‰ˆ -->
<style>
    body {
        font-family: Arial, sans-serif;
        margin: 20px;
        background: #f2f2f2;
        text-align: center;
    }
    .card {
        background: white;
        padding: 20px;
        border-radius: 12px;
        box-shadow: 0 0 10px #ccc;
        width: 90%;
        max-width: 400px;
        margin: auto;
    }
    input {
        width: 80%;
        padding: 10px;
        margin-top: 10px;
        border-radius: 8px;
        border: 1px solid #aaa;
        font-size: 16px;
    }
    button {
        margin-top: 15px;
        padding: 12px 24px;
        background: #007BFF;
        color: white;
        border: none;
        border-radius: 8px;
        font-size: 16px;
        cursor: pointer;
    }
    button:hover {
        background: #0056c3;
    }
    #weather-icon {
        width: 80px;
        margin-top: 10px;
    }
</style>

</head>
<body>

<h2>ğŸŒ¦ æ™ºæ…§å¤©æ°£é¡¯ç¤ºå™¨</h2>

<div class="card">
    <h3>æŸ¥è©¢åŸå¸‚å¤©æ°£</h3>

    <input id="cityInput" type="text" placeholder="è«‹è¼¸å…¥åŸå¸‚ï¼Œä¾‹å¦‚ï¼šTaipei">
    <br>
    <button onclick="getWeather()">å–å¾—å¤©æ°£</button>

    <h3 id="resultCity"></h3>
    <img id="weather-icon" style="display:none;">
    <p id="temperature"></p>
    <p id="description"></p>
</div>


<script>
const apiKey = "YOUR_API_KEY";  // â†â†â† æ›¿æ›ç‚ºä½ çš„ OpenWeather API Key

function getWeather() {
    const city = document.getElementById("cityInput").value;
    if (city === "") {
        alert("è«‹è¼¸å…¥åŸå¸‚åç¨±ï¼");
        return;
    }

    const url =
        `https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}&lang=zh_tw&units=metric`;

    fetch(url)
        .then(response => response.json())
        .then(data => {
            if (data.cod !== 200) {
                alert("æŸ¥ç„¡æ­¤åŸå¸‚ï¼Œè«‹ç¢ºèªè¼¸å…¥æ˜¯å¦æ­£ç¢º");
                return;
            }

            document.getElementById("resultCity").innerText = data.name + " çš„å¤©æ°£";

            // é¡¯ç¤ºåœ–ç‰‡ï¼ˆAPI æä¾›ï¼‰
            const iconCode = data.weather[0].icon;
            const iconURL = `https://openweathermap.org/img/wn/${iconCode}@2x.png`;
            const iconImg = document.getElementById("weather-icon");
            iconImg.src = iconURL;
            iconImg.style.display = "block";

            // é¡¯ç¤ºæº«åº¦èˆ‡æè¿°
            document.getElementById("temperature").innerText = "ğŸŒ¡ æ¸©åº¦: " + data.main.temp + "Â°C";
            document.getElementById("description").innerText = "â˜ ç‹€æ…‹: " + data.weather[0].description;
        })
        .catch(error => {
            console.log(error);
            alert("ç„¡æ³•å–å¾—è³‡æ–™ï¼Œè«‹ç¨å¾Œé‡è©¦");
        });
}
</script>

</body>
</html>
